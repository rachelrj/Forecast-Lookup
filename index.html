<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
 		<title>Weather Lookup | Rachel R Joyce</title>

		<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
		<meta name="Author" content="Rachel R Joyce">
		<meta http-equiv="Content-Language" content="en-us">
		<meta NAME="GOOGLEBOT" CONTENT="INDEX, FOLLOW">
		<meta name="robots" content="all, index, follow">
		<meta name="rating" content="general">
		<meta name="viewport" content="initial-scale=1">

    <!--include Jquery-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!--include Jquery AutoComplete-->
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <!--include react-->
    <script src="http://fb.me/react-0.13.1.js"></script>
    <script src="http://fb.me/JSXTransformer-0.13.1.js"></script>
    <!--Include My Stylesheet-->
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css">

    <script type="text/jsx">
      var Forecast = React.createClass ({
        getDefaultProps: function(){
            return{
              dates: [],
              weathers: [],
              descriptions: []
            }
        },
        propTypes:{
            dates: React.PropTypes.array.isRequired,
            weathers: React.PropTypes.array.isRequired,
            descriptions: React.PropTypes.array.isRequired,
        },
        getInitialState:function(){
          return{
              displayPrevious : false,
              displayNext : true,
              day: 0,
              selectedDay: this.props.dates[0],
              selectedDaysWeather: this.props.weathers[0],
              selectedDaysDescription: this.props.descriptions[0]
          }
        },
        previousDay: function(e){
          var previous = this.state.day -1;
          var display = true;
          if(previous <1)
            display = false;
          this.setState({
            displayNext : true,
            displayPrevious : display,
            day : previous,
            selectedDay : this.props.dates[previous],
            selectedDaysWeather : this.props.weathers[previous],
            selectedDaysDescription : this.props.descriptions[previous]
          });
        },
        nextDay: function(e){
          var next = this.state.day +1;
          var display = true;
          if(next >6)
            display = false;
          this.setState({
            displayPrevious : true,
            displayNext : display,
            day : next,
            selectedDay : this.props.dates[next],
            selectedDaysWeather : this.props.weathers[next],
            selectedDaysDescription : this.props.descriptions[next]
          });
        },
        render:function(){
          return (
            <div>
              <input className = {this.state.displayPrevious ? '' : 'hiddenButton'} type = "button" value = "previous" id= "previous" onClick={this.previousDay}/>
              <input className = {this.state.displayNext ? '' : 'hiddenButton'} type = "button" value = "next" id = "next" display = {this.displayNext} onClick={this.nextDay}/>
              <h2> {this.state.selectedDay} </h2>
              <p> {this.state.selectedDaysDescription} </p>
            </div>
            );
        }
      });

    </script>
    <!--Include My Scripts-->
    <script src="js/script.js"></script>

	</head>

	<body>

		<h1>
			Weather Lookup
		</h1>

		<p> 
			Please enter your location below to lookup the weather in your city
		</p>
		
    <div class="ui-widget">
				<input id="location-entry" name="location-entry" placeholder="Enter a city" type="text" onkeyup="if (event.keyCode == 13) document.getElementById('button').click()" oninput="autoCompleteFunction()"/>
				<input type="button" id="button" onclick="submitLocation(); " value="Submit"/>
		</div>
		
    <div id="response">
		</div>

	</body>

</html>